<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up | NextBloom - AI-Powered Learning Platform</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    
    .glass {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }
    
    .hero-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      position: relative;
      overflow: hidden;
    }
    
    .hero-bg::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="%23ffffff" stop-opacity="0.1"/><stop offset="100%" stop-color="%23ffffff" stop-opacity="0"/></radialGradient></defs><circle cx="200" cy="200" r="100" fill="url(%23a)"/><circle cx="800" cy="300" r="150" fill="url(%23a)"/><circle cx="400" cy="700" r="120" fill="url(%23a)"/></svg>');
      opacity: 0.3;
    }
    
    .floating-animation {
      animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }
    
    .pulse-glow {
      animation: pulseGlow 2s ease-in-out infinite;
    }
    
    @keyframes pulseGlow {
      0%, 100% {
        box-shadow: 0 0 20px rgba(102, 126, 234, 0.4);
      }
      50% {
        box-shadow: 0 0 40px rgba(102, 126, 234, 0.8);
      }
    }
    
    .slide-in {
      animation: slideIn 0.8s ease-out;
    }
    
    @keyframes slideIn {
      0% {
        transform: translateY(30px);
        opacity: 0;
      }
      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    .progress-bar {
      transition: width 0.3s ease;
    }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.5);
    }
    
    /* Firefox */
    html {
      scrollbar-width: thin;
      scrollbar-color: rgba(255, 255, 255, 0.3) rgba(255, 255, 255, 0.1);
    }
    
    /* Smooth transitions for better UX */
    input, select, button {
      transition: all 0.2s ease;
    }
    
    /* Focus improvements */
    input:focus, select:focus, button:focus {
      outline: none;
      transform: translateY(-1px);
    }
    
    /* Loading state */
    .loading {
      pointer-events: none;
      opacity: 0.7;
    }
    
    /* Responsive improvements */
    @media (max-width: 640px) {
      .glass {
        margin: 1rem;
      }
    }
  </style>
</head>
<body class="hero-bg min-h-screen flex items-center justify-center px-4 py-4 sm:py-6 relative overflow-x-hidden overflow-y-auto">

  <!-- Floating Elements -->
  <div class="absolute -top-20 -left-20 w-40 h-40 bg-white/10 rounded-full floating-animation"></div>
  <div class="absolute -bottom-20 -right-20 w-60 h-60 bg-white/5 rounded-full floating-animation" style="animation-delay: -3s;"></div>
  <div class="absolute top-1/4 -right-10 w-32 h-32 bg-white/5 rounded-full floating-animation" style="animation-delay: -1s;"></div>
  <div class="absolute bottom-1/4 -left-10 w-24 h-24 bg-white/10 rounded-full floating-animation" style="animation-delay: -2s;"></div>

  <div class="glass p-4 sm:p-6 md:p-8 rounded-3xl shadow-2xl w-full max-w-sm sm:max-w-md lg:max-w-lg mx-auto relative z-10 slide-in my-4">
    <!-- Brand Header -->
    <div class="text-center mb-4 sm:mb-6">
      <div class="flex items-center justify-center space-x-2 sm:space-x-3 mb-3">
        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl flex items-center justify-center shadow-lg">
          <i class="fas fa-graduation-cap text-white text-lg sm:text-xl"></i>
        </div>
        <h1 class="text-xl sm:text-2xl font-bold text-white">NextBloom</h1>
      </div>
      <h2 class="text-xl sm:text-2xl font-bold text-white mb-1">Join Our Community!</h2>
      <p class="text-white/80 text-xs sm:text-sm">Create your account to start your AI-powered learning journey</p>
    </div>

    <!-- Progress Bar -->
    <div class="mb-4 sm:mb-6">
      <div class="flex items-center justify-between text-xs text-white/60 mb-2">
        <span>Step 1 of 1</span>
        <span id="progress-text">Getting Started</span>
      </div>
      <div class="w-full bg-white/20 rounded-full h-2">
        <div id="progress-bar" class="progress-bar bg-white h-2 rounded-full" style="width: 0%"></div>
      </div>
    </div>

    <form id="signupForm" class="space-y-3 sm:space-y-4">
      <!-- Name Fields -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
        <div>
          <label for="firstName" class="block text-sm font-medium text-white/90 mb-2">
            <i class="fas fa-user mr-2"></i>First Name *
          </label>
          <input type="text" id="firstName" name="firstName" required 
                 class="w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/20 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 transition-all duration-300 text-sm sm:text-base"
                 placeholder="John">
        </div>
        <div>
          <label for="lastName" class="block text-sm font-medium text-white/90 mb-2">
            <i class="fas fa-user mr-2"></i>Last Name *
          </label>
          <input type="text" id="lastName" name="lastName" required 
                 class="w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/20 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 transition-all duration-300 text-sm sm:text-base"
                 placeholder="Doe">
        </div>
      </div>

      <!-- Email -->
      <div>
        <label for="email" class="block text-sm font-medium text-white/90 mb-2">
          <i class="fas fa-envelope mr-2"></i>Email Address *
        </label>
        <input type="email" id="email" name="email" required 
               class="w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/20 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 transition-all duration-300 text-sm sm:text-base"
               placeholder="john.doe@example.com">
      </div>

      <!-- Age and Education Row -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
        <div>
          <label for="age" class="block text-sm font-medium text-white/90 mb-2">
            <i class="fas fa-calendar-alt mr-2"></i>Age *
          </label>
          <input type="number" id="age" name="age" required min="13" max="100" step="1"
                 class="w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/20 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 transition-all duration-300 text-sm sm:text-base"
                 placeholder="25">
          <p class="text-xs text-white/60 mt-1">13-100 years old</p>
        </div>
        
        <div>
          <label for="education" class="block text-sm font-medium text-white/90 mb-2">
            <i class="fas fa-graduation-cap mr-2"></i>Education Level *
          </label>
          <select id="education" name="education" required 
                  class="w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/20 border border-white/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 transition-all duration-300 text-sm sm:text-base">
            <option value="" class="text-gray-800">Select education level</option>
            <option value="High School" class="text-gray-800">High School</option>
            <option value="Some College" class="text-gray-800">Some College</option>
            <option value="Associate Degree" class="text-gray-800">Associate Degree</option>
            <option value="Bachelor's Degree" class="text-gray-800">Bachelor's Degree</option>
            <option value="Master's Degree" class="text-gray-800">Master's Degree</option>
            <option value="Doctoral Degree" class="text-gray-800">Doctoral Degree</option>
            <option value="Professional Degree" class="text-gray-800">Professional Degree</option>
            <option value="Other" class="text-gray-800">Other</option>
          </select>
        </div>
      </div>

      <!-- Password Fields -->
      <div class="space-y-3">
        <div>
          <label for="password" class="block text-sm font-medium text-white/90 mb-2">
            <i class="fas fa-lock mr-2"></i>Password *
          </label>
          <div class="relative">
            <input type="password" id="password" name="password" required 
                   class="w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/20 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 transition-all duration-300 text-sm sm:text-base"
                   placeholder="Enter secure password">
            <button type="button" id="togglePassword" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-colors">
              <i class="fas fa-eye"></i>
            </button>
          </div>
          <div id="password-strength" class="mt-1 text-xs">
            <div class="flex space-x-1 mb-1">
              <div class="h-1 w-1/4 bg-white/20 rounded"></div>
              <div class="h-1 w-1/4 bg-white/20 rounded"></div>
              <div class="h-1 w-1/4 bg-white/20 rounded"></div>
              <div class="h-1 w-1/4 bg-white/20 rounded"></div>
            </div>
            <p class="text-white/60">Strength: <span id="strength-text">Enter password</span></p>
          </div>
        </div>

        <div>
          <label for="confirmPassword" class="block text-sm font-medium text-white/90 mb-2">
            <i class="fas fa-lock mr-2"></i>Confirm Password *
          </label>
          <div class="relative">
            <input type="password" id="confirmPassword" name="confirmPassword" required 
                   class="w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/20 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 transition-all duration-300 text-sm sm:text-base"
                   placeholder="Confirm your password">
            <div id="password-match" class="absolute right-3 top-1/2 transform -translate-y-1/2 hidden">
              <i class="fas fa-check text-green-400"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- Terms and Conditions -->
      <div class="flex items-start space-x-3 bg-white/10 p-3 sm:p-4 rounded-xl border border-white/20">
        <input type="checkbox" id="terms" name="terms" required class="mt-1 h-4 w-4 text-purple-500 focus:ring-purple-500 border-white/30 rounded bg-white/20">
        <label for="terms" class="text-xs sm:text-sm text-white/90 leading-relaxed">
          I agree to the <a href="#" class="text-white font-medium hover:text-white/80 underline">Terms of Service</a> and <a href="#" class="text-white font-medium hover:text-white/80 underline">Privacy Policy</a>
        </label>
      </div>

      <!-- Submit Button -->
      <div class="pt-2 sm:pt-4">
        <button type="submit" class="w-full bg-white text-purple-600 py-2 sm:py-3 px-4 rounded-xl font-bold text-sm sm:text-base hover:bg-white/90 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 pulse-glow focus:outline-none focus:ring-4 focus:ring-white/50 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
          <i class="fas fa-rocket mr-2"></i>Create Account
        </button>
      </div>

      <!-- Error and Success Messages -->
      <div id="errorMsg" class="bg-red-500/20 border border-red-500/30 text-red-100 px-4 py-3 rounded-xl text-sm text-center hidden">
        <i class="fas fa-exclamation-triangle mr-2"></i>
        <span></span>
      </div>
      
      <div id="successMsg" class="bg-green-500/20 border border-green-500/30 text-green-100 px-4 py-3 rounded-xl text-sm text-center hidden">
        <i class="fas fa-check-circle mr-2"></i>
        <span></span>
      </div>
    </form>

    <!-- Social Signup Options -->
    <div class="mt-4 sm:mt-6">
      <div class="relative">
        <div class="absolute inset-0 flex items-center">
          <div class="w-full border-t border-white/20"></div>
        </div>
        <div class="relative flex justify-center text-sm">
          <span class="px-2 bg-transparent text-white/60">Or sign up with</span>
        </div>
      </div>
      
      <div class="mt-3 grid grid-cols-2 gap-2 sm:gap-3">
        <button type="button" class="flex items-center justify-center px-3 py-2 bg-white/10 border border-white/20 rounded-xl text-white/80 hover:bg-white/20 transition-all duration-300 text-xs sm:text-sm">
          <i class="fab fa-google mr-1 sm:mr-2"></i>Google
        </button>
        <button type="button" class="flex items-center justify-center px-3 py-2 bg-white/10 border border-white/20 rounded-xl text-white/80 hover:bg-white/20 transition-all duration-300 text-xs sm:text-sm">
          <i class="fab fa-github mr-1 sm:mr-2"></i>GitHub
        </button>
      </div>
    </div>

    <!-- Footer Links -->
    <div class="mt-4 sm:mt-6 text-center space-y-2">
      <p class="text-white/80 text-xs sm:text-sm">
        Already have an account? 
        <a href="login.html" class="text-white font-medium hover:text-white/80 transition-colors">Login here</a>
      </p>
      <p class="text-white/60 text-xs sm:text-sm">
        <a href="index.html" class="hover:text-white transition-colors">
          <i class="fas fa-arrow-left mr-2"></i>Back to Home
        </a>
      </p>
    </div>
  </div>

  <script>
    // DOM Elements
    const signupForm = document.getElementById("signupForm");
    const errorMsg = document.getElementById("errorMsg");
    const successMsg = document.getElementById("successMsg");
    const progressBar = document.getElementById("progress-bar");
    const progressText = document.getElementById("progress-text");
    const togglePassword = document.getElementById("togglePassword");
    const passwordInput = document.getElementById("password");
    const confirmPasswordInput = document.getElementById("confirmPassword");
    const passwordMatch = document.getElementById("password-match");
    const strengthText = document.getElementById("strength-text");

    // Password toggle functionality
    togglePassword.addEventListener("click", () => {
      const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
      passwordInput.setAttribute("type", type);
      confirmPasswordInput.setAttribute("type", type);
      togglePassword.innerHTML = type === "password" ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
    });

    // Password strength checker
    const strengthBars = document.querySelectorAll('#password-strength .h-1');
    
    function checkPasswordStrength(password) {
      if (!password) {
        strengthText.textContent = 'Enter password';
        strengthBars.forEach(bar => bar.className = 'h-1 w-1/4 bg-white/20 rounded');
        return 0;
      }
      
      let strength = 0;
      
      if (password.length >= 6) strength++;
      if (password.length >= 8) strength++;
      if (password.match(/[a-z]/) && password.match(/[A-Z]/)) strength++;
      if (password.match(/\d/)) strength++;
      
      // Reset all bars
      strengthBars.forEach(bar => bar.className = 'h-1 w-1/4 bg-white/20 rounded');
      
      // Fill bars based on strength
      const colors = ['bg-yellow-400', 'bg-blue-400', 'bg-green-400', 'bg-green-400'];
      const colorClass = colors[Math.min(strength - 1, 3)] || 'bg-yellow-400';
      
      for (let i = 0; i < Math.min(strength, 4); i++) {
        strengthBars[i].className = `h-1 w-1/4 ${colorClass} rounded`;
      }
      
      const strengthLabels = ['Good', 'Better', 'Strong', 'Excellent'];
      strengthText.textContent = password.length < 6 ? 'Too short (min 6 chars)' : 
                                strengthLabels[strength - 1] || 'Good';
      
      return strength;
    }

    // Password confirmation checker
    function checkPasswordMatch() {
      const password = passwordInput.value;
      const confirmPassword = confirmPasswordInput.value;
      
      if (!confirmPassword) {
        passwordMatch.classList.add('hidden');
        confirmPasswordInput.classList.remove('border-green-400', 'border-red-400');
        return false;
      }
      
      const isMatch = password === confirmPassword;
      
      if (isMatch) {
        passwordMatch.classList.remove('hidden');
        confirmPasswordInput.classList.add('border-green-400');
        confirmPasswordInput.classList.remove('border-red-400');
      } else {
        passwordMatch.classList.add('hidden');
        confirmPasswordInput.classList.add('border-red-400');
        confirmPasswordInput.classList.remove('border-green-400');
      }
      
      return isMatch;
    }

    // Form progress tracker
    function updateProgress() {
      const inputs = signupForm.querySelectorAll('input[required], select[required]');
      const filled = Array.from(inputs).filter(input => {
        if (input.type === 'checkbox') return input.checked;
        return input.value.trim() !== '';
      }).length;
      
      const progress = (filled / inputs.length) * 100;
      progressBar.style.width = progress + '%';
      
      if (progress < 25) progressText.textContent = 'Getting Started';
      else if (progress < 50) progressText.textContent = 'Personal Info';
      else if (progress < 75) progressText.textContent = 'Almost There';
      else if (progress < 100) progressText.textContent = 'Final Steps';
      else progressText.textContent = 'Ready to Submit!';
    }

    // Event listeners
    passwordInput.addEventListener('input', (e) => {
      checkPasswordStrength(e.target.value);
      checkPasswordMatch();
      updateProgress();
    });
    
    confirmPasswordInput.addEventListener('input', () => {
      checkPasswordMatch();
      updateProgress();
    });
    
    // Update progress on form changes
    signupForm.addEventListener('change', updateProgress);
    signupForm.addEventListener('input', updateProgress);

    // Message functions
    function showError(message) {
      const errorSpan = errorMsg.querySelector('span');
      errorSpan.textContent = message;
      errorMsg.classList.remove("hidden");
      successMsg.classList.add("hidden");
      
      // Auto-hide after 5 seconds
      setTimeout(() => {
        errorMsg.classList.add("hidden");
      }, 5000);
    }

    function showSuccess(message) {
      const successSpan = successMsg.querySelector('span');
      successSpan.textContent = message;
      successMsg.classList.remove("hidden");
      errorMsg.classList.add("hidden");
    }

    // Network connectivity check
    function checkNetworkConnectivity() {
      return navigator.onLine;
    }

    // Form submission with backend API
    signupForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      
      // Check network connectivity first
      if (!checkNetworkConnectivity()) {
        showError("No internet connection. Please check your network and try again.");
        return;
      }
      
      // Get form data
      const formData = {
        firstName: document.getElementById("firstName").value.trim(),
        lastName: document.getElementById("lastName").value.trim(),
        email: document.getElementById("email").value.trim(),
        age: document.getElementById("age").value.trim(),
        education: document.getElementById("education").value.trim(),
        password: document.getElementById("password").value,
        confirmPassword: document.getElementById("confirmPassword").value,
        termsAccepted: document.getElementById("terms").checked
      };

      // Client-side validation
      const validationErrors = [];
      
      if (!formData.firstName) validationErrors.push('First name is required');
      if (!formData.lastName) validationErrors.push('Last name is required');
      if (!formData.email) validationErrors.push('Email is required');
      if (!formData.age) validationErrors.push('Age is required');
      if (!formData.education) validationErrors.push('Education level is required');
      if (!formData.password) validationErrors.push('Password is required');
      if (!formData.confirmPassword) validationErrors.push('Password confirmation is required');

      if (validationErrors.length > 0) {
        showError(validationErrors[0]);
        return;
      }

      if (!formData.termsAccepted) {
        showError("Please accept the Terms of Service and Privacy Policy");
        return;
      }

      if (formData.password !== formData.confirmPassword) {
        showError("Passwords do not match");
        return;
      }

      if (formData.password.length < 6) {
        showError("Password must be at least 6 characters long");
        return;
      }

      // Validate age
      const ageNum = parseInt(formData.age);
      if (isNaN(ageNum) || ageNum < 13 || ageNum > 100) {
        showError("Age must be between 13 and 100");
        return;
      }

      // Validate email format
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(formData.email)) {
        showError("Please enter a valid email address");
        return;
      }

      // Show loading state
      const submitBtn = signupForm.querySelector('button[type="submit"]');
      const originalText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Creating Account...';
      submitBtn.disabled = true;
      submitBtn.classList.add('loading');

      try {
        // Make API call to backend
        const response = await fetch('http://localhost:5000/api/auth/signup', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            firstName: formData.firstName,
            lastName: formData.lastName,
            email: formData.email,
            password: formData.password,
            age: ageNum,
            education: formData.education
          })
        });

        const data = await response.json();

        if (data.success) {
          // Auto-login the user
          localStorage.setItem("userLoggedIn", "true");
          localStorage.setItem("userEmail", data.user.email);
          localStorage.setItem("userName", `${data.user.firstName} ${data.user.lastName}`);
          localStorage.setItem("userData", JSON.stringify(data.user));
          
          showSuccess("Account created successfully! Redirecting to homepage...");
          
          // Success feedback
          submitBtn.innerHTML = '<i class="fas fa-check mr-2"></i>Success! Redirecting...';
          submitBtn.className = submitBtn.className.replace('text-purple-600', 'text-green-600');
          
          // Show success notification
          showNotification('ðŸŽ‰ Account created successfully! Welcome to NextBloom!', 'success');
          
          setTimeout(() => {
            // Redirect to homepage
            window.location.href = 'index.html?signup=success';
          }, 1500);
          
        } else {
          showError(data.message || "Unable to create account. Please try again.");
          submitBtn.innerHTML = originalText;
          submitBtn.disabled = false;
          submitBtn.classList.remove('loading');
        }
      } catch (error) {
        console.error("Signup error:", error);
        showError("Unable to connect to server. Please check your connection and try again.");
        
        // Reset button state
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
        submitBtn.classList.remove('loading');
      }
    });

    // Notification function
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
      
      notification.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300`;
      notification.innerHTML = `
        <div class="flex items-center space-x-2">
          <span>${message}</span>
          <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white hover:text-gray-200">
            <i class="fas fa-times"></i>
          </button>
        </div>
      `;
      
      document.body.appendChild(notification);
      
      // Slide in
      setTimeout(() => {
        notification.style.transform = 'translateX(0)';
      }, 100);
      
      // Auto remove after 5 seconds
      setTimeout(() => {
        if (notification.parentElement) {
          notification.style.transform = 'translateX(100%)';
          setTimeout(() => {
            if (notification.parentElement) {
              notification.remove();
            }
          }, 300);
        }
      }, 5000);
    }

    // Initialize progress on page load
    window.addEventListener('load', () => {
      updateProgress();
    });

    // Input validation
    const inputs = signupForm.querySelectorAll('input[required], select[required]');
    inputs.forEach(input => {
      input.addEventListener('blur', function() {
        const value = this.value.trim();
        const isEmpty = value === '';
        const isRequired = this.hasAttribute('required');
        
        if (isEmpty && isRequired) {
          this.classList.add('border-red-400');
          this.classList.remove('border-green-400');
        } else if (!isEmpty) {
          this.classList.add('border-green-400');
          this.classList.remove('border-red-400');
        } else {
          this.classList.remove('border-red-400', 'border-green-400');
        }
      });
      
      input.addEventListener('focus', function() {
        this.classList.remove('border-red-400');
      });
    });

    // Enter key navigation
    const formInputs = Array.from(signupForm.querySelectorAll('input, select, button[type="submit"]'));
    
    signupForm.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const currentIndex = formInputs.indexOf(e.target);
        
        if (e.target.type === 'submit') {
          return;
        }
        
        if (e.target.tagName === 'BUTTON' && e.target.type !== 'submit') {
          e.target.click();
          return;
        }
        
        e.preventDefault();
        const nextInput = formInputs[currentIndex + 1];
        if (nextInput && nextInput.type !== 'submit') {
          nextInput.focus();
        } else if (nextInput && nextInput.type === 'submit') {
          nextInput.focus();
        }
      }
    });
  </script>

</body>
</html>